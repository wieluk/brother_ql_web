{% block doc -%}
<!DOCTYPE html>
<html{% block html_attribs %}{% endblock html_attribs %}>
{%- block html %}
    <head>
        {%- block metas %}
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="{{url_for('static', filename='images/favicon/ms-icon-144x144.png')}}">
        <meta name="theme-color" content="#ffffff">
        <link rel="apple-touch-icon" sizes="57x57" href="{{url_for('static', filename='images/favicon/apple-icon-57x57.png')}}">
        <link rel="apple-touch-icon" sizes="60x60" href="{{url_for('static', filename='images/favicon/apple-icon-60x60.png')}}">
        <link rel="apple-touch-icon" sizes="72x72" href="{{url_for('static', filename='images/favicon/apple-icon-72x72.png')}}">
        <link rel="apple-touch-icon" sizes="76x76" href="{{url_for('static', filename='images/favicon/apple-icon-76x76.png')}}">
        <link rel="apple-touch-icon" sizes="114x114"
            href="{{url_for('static', filename='images/favicon/apple-icon-114x114.png')}}">
        <link rel="apple-touch-icon" sizes="120x120"
            href="{{url_for('static', filename='images/favicon/apple-icon-120x120.png')}}">
        <link rel="apple-touch-icon" sizes="144x144"
            href="{{url_for('static', filename='images/favicon/apple-icon-144x144.png')}}">
        <link rel="apple-touch-icon" sizes="152x152"
            href="{{url_for('static', filename='images/favicon/apple-icon-152x152.png')}}">
        <link rel="apple-touch-icon" sizes="180x180"
            href="{{url_for('static', filename='images/favicon/apple-icon-180x180.png')}}">
        <link rel="icon" type="image/png" sizes="192x192"
            href="{{url_for('static', filename='images/favicon/android-icon-192x192.png')}}">
        <link rel="icon" type="image/png" sizes="32x32"
            href="{{url_for('static', filename='images/favicon/favicon-32x32.png')}}">
        <link rel="icon" type="image/png" sizes="96x96"
            href="{{url_for('static', filename='images/favicon/favicon-96x96.png')}}">
        <link rel="icon" type="image/png" sizes="16x16"
            href="{{url_for('static', filename='images/favicon/favicon-16x16.png')}}">
        <link rel="shortcut icon" type="image/x-icon" href="{{url_for('static', filename='images/favicon/favicon.ico')}}">
        <link rel="manifest" href="{{url_for('static', filename='images/favicon/manifest.json')}}">
        {%- endblock metas %}
        {%- block head %}
        <title>{% block title %}Label Designer | Brother QL{% endblock title %}</title>
        {%- block styles %}
        <!-- Bootstrap -->
        <link rel="stylesheet" href="{{url_for('static', filename='css/bootstrap.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='fontawesome/css/fontawesome.min.css')}}" />
        <link rel="stylesheet" href="{{url_for('static', filename='fontawesome/css/all.min.css')}}" />
        <!-- DropZone CSS -->
        <link rel="stylesheet" href="{{url_for('static', filename='css/dropzone.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='css/custom.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='css/darkmode.css')}}">
        {%- endblock styles %}
        {%- endblock head %}
    </head>
    <body{% block body_attribs %}{% endblock body_attribs %}>
    {% block body -%}
    {% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-dark" id="mainNavbar">
        <div class="container-fluid" style="max-width: 1400px;">
            <a class="navbar-brand d-flex align-items-center gap-2" href="#">
                <span class="fas fa-tag" aria-hidden="true"></span>
                Label Designer
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav d-flex align-items-center gap-1 w-100">
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/wieluk/brother_ql_web" target="_blank" rel="noopener">
                            <i class="fab fa-github"></i> Source
                        </a>
                    </li>
                    <li class="nav-item">
                        <button id="resetSettings" class="btn btn-outline-danger btn-sm" title="Reset label settings">
                            <span class="fas fa-trash"></span> Reset
                        </button>
                    </li>
                    <li class="nav-item">
                        <button id="undoSettingsBtn" class="btn btn-outline-warning btn-sm position-relative" disabled title="Undo last change">
                            <i class="fas fa-undo"></i> Undo
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary">
                                <span id="undoCounter">0</span>
                                <span class="visually-hidden">undo steps available</span>
                            </span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button id="openRepoBtn" class="btn btn-outline-light btn-sm" type="button">
                            <span class="fas fa-folder-open me-1"></span>Repository
                        </button>
                    </li>
                    <li class="nav-item d-flex align-items-center ms-auto">
                        <span class="fas fa-print me-2 text-white-50" aria-hidden="true"></span>
                        <label for="printer" class="form-label mb-0 me-2 text-white-50 small">Printer:</label>
                        <select id="printer" class="form-select form-select-sm navbar-printer-select" onchange="preview()" style="min-width:220px">
                            <!-- populated dynamically -->
                        </select>
                    </li>
                    <li class="nav-item d-flex align-items-center ms-2">
                        <div id="darkModeToggle" style="cursor: pointer; font-size: 1.4em; color: rgba(255,255,255,0.8);" title="Toggle dark mode">
                            <span id="darkModeIcon" style="transition: color 0.2s;"></span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
        {%- endblock navbar %}
        {% block content -%}
        <div class="container-fluid px-3 px-md-4" style="max-width: 1400px;">
            {# application content needs to be provided in the app_content block #}
            {% block app_content %}{% endblock %}
        </div>
        {%- endblock content %}

    {% block scripts %}
    <script src="{{url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery-3.7.1.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/dropzone-min.js')}}"></script>
    <script src="{{url_for('static', filename='js/darkmode.js')}}"></script>
    <script type="text/javascript">
        {% block javascript %} {% endblock %}
    </script>
    <script src="{{url_for('static', filename='js/utils.js')}}"></script>
    <script src="{{url_for('static', filename='js/main.js')}}"></script>
    {%- endblock scripts %}
    {%- endblock body %}
    </body>
{%- endblock html %}    
</html>
{% endblock doc -%}
